var data = {
    "name": "脊索动物门",
    "children": [{
            "name": "哺乳纲",
            "children": [{
                    "name": "灵长目",
                    "children": [{
                        "name": "蜂猴",
                        "value": 721
                    }, {
                        "name": "倭蜂猴",
                        "value": 4294
                    }, {
                        "name": "台湾猴",
                        "value": 4294
                    }, {
                        "name": "北豚尾猴",
                        "value": 4294
                    }, {
                        "name": "喜山长尾叶猴",
                        "value": 4294
                    }, {
                        "name": "印支灰叶猴",
                        "value": 4294
                    }, {
                        "name": "黑叶猴",
                        "value": 4294
                    }, {
                        "name": "菲氏叶猴",
                        "value": 4294
                    }, {
                        "name": "戴帽叶猴",
                        "value": 4294
                    }, {
                        "name": "白头叶猴",
                        "value": 4294
                    }, {
                        "name": "肖氏乌叶猴",
                        "value": 4294
                    }, {
                        "name": "滇金丝猴",
                        "value": 4294
                    }, {
                        "name": "黔金丝猴",
                        "value": 4294
                    }, {
                        "name": "川金丝猴",
                        "value": 4294,
                        "symbol ": 'image://../img/bg2.jpg'
                    }, {
                        "name": "怒江金丝猴",
                        "value": 4294
                    }, {
                        "name": "西白眉长臂猿",
                        "value": 4294
                    }, {
                        "name": "东白眉长臂猿",
                        "value": 4294
                    }, {
                        "name": "高黎贡白眉长臂猿",
                        "value": 4294
                    }, {
                        "name": "白掌长臂猿",
                        "value": 4294
                    }, {
                        "name": "西黑冠长臂猿",
                        "value": 4294
                    }, {
                        "name": "东黑冠长臂猿",
                        "value": 4294
                    }, {
                        "name": "海南长臂猿",
                        "value": 4294
                    }, {
                        "name": "北白颊长臂猿",
                        "value": 4294
                    }]
                }, {
                    "name": "鳞甲目",
                    "children": [{
                        "name": "印度穿山甲",
                        "value": 721
                    }, {
                        "name": "马来穿山甲",
                        "value": 4294
                    }, {
                        "name": "穿山甲",
                        "value": 4294
                    }]
                }, {
                    "name": "食肉目",
                    "children": [{
                        "name": "豺",
                        "value": 721
                    }, {
                        "name": "马来熊",
                        "value": 4294
                    }, {
                        "name": "大熊猫",
                        "value": 4294
                    }, {
                        "name": "紫貂",
                        "value": 4294
                    }, {
                        "name": "貂熊",
                        "value": 4294
                    }, {
                        "name": "大斑灵猫",
                        "value": 4294
                    }, {
                        "name": "大灵猫",
                        "value": 4294
                    }, {
                        "name": "小灵猫",
                        "value": 4294
                    }, {
                        "name": "熊狸",
                        "value": 4294
                    }, {
                        "name": "小齿狸",
                        "value": 4294
                    }, {
                        "name": "缟灵猫",
                        "value": 4294
                    }, {
                        "name": "荒漠猫",
                        "value": 4294
                    }, {
                        "name": "丛林猫",
                        "value": 4294
                    }, {
                        "name": "金猫",
                        "value": 4294
                    }, {
                        "name": "云豹",
                        "value": 4294
                    }, {
                        "name": "豹",
                        "value": 4294
                    }, {
                        "name": "虎",
                        "value": 4294
                    }, {
                        "name": "雪豹",
                        "value": 4294
                    }, {
                        "name": "西太平洋斑海豹",
                        "value": 4294
                    }]
                }, {
                    "name": "长鼻目",
                    "children": [{
                        "name": "亚洲象",
                    }]
                }, {
                    "name": "奇蹄目",
                    "children": [{
                        "name": "普氏野马",
                        "value": 4294
                    }, {
                        "name": "蒙古野驴",
                        "value": 4294
                    }, {
                        "name": "藏野驴",
                        "value": 4294
                    }]
                },
                {
                    "name": "偶蹄目",
                    "children": [{
                        "name": "野骆驼",
                        "value": 721
                    }, {
                        "name": "威氏鼷鹿",
                        "value": 4294
                    }, {
                        "name": "安徽麝",
                        "value": 4294
                    }, {
                        "name": "林麝",
                        "value": 4294
                    }, {
                        "name": "马麝",
                        "value": 4294
                    }, {
                        "name": "黑麝",
                        "value": 4294
                    }, {
                        "name": "喜马拉雅麝",
                        "value": 4294
                    }, {
                        "name": "原麝",
                        "value": 4294
                    }, {
                        "name": "黑麂",
                        "value": 4294
                    }, {
                        "name": "豚鹿",
                        "value": 4294
                    }, {
                        "name": "梅花鹿",
                        "value": 4294
                    }, {
                        "name": "西藏马鹿（包含白臀鹿）",
                        "value": 4294
                    }, {
                        "name": "塔里木马鹿",
                        "value": 4294
                    }, {
                        "name": "坡鹿",
                        "value": 4294
                    }, {
                        "name": "白唇鹿",
                        "value": 4294
                    }, {
                        "name": "麋鹿",
                        "value": 4294
                    }, {
                        "name": "驼鹿",
                        "value": 4294
                    }, {
                        "name": "野牛",
                        "value": 4294
                    }, {
                        "name": "爪哇野牛",
                        "value": 4294
                    }, {
                        "name": "野牦牛",
                        "value": 4294
                    }, {
                        "name": "蒙原羚",
                        "value": 4294
                    }, {
                        "name": "普氏原羚",
                        "value": 4294
                    }, {
                        "name": "藏羚",
                        "value": 4294
                    }]
                },
                {
                    "name": "啮齿目",
                    "children": [{
                        "name": "河狸",
                    }]
                },
                {
                    "name": "海牛目",
                    "children": [{
                        "name": "儒艮",
                    }]
                },
                {
                    "name": "鲸目",
                    "children": [{
                        "name": "北太平洋露脊鲸",
                    }, {
                        "name": "灰鲸",
                    }, {
                        "name": "蓝鲸",
                    }, {
                        "name": "小须鲸",
                    }, {
                        "name": "塞鲸",
                    }, {
                        "name": "布氏鲸",
                    }, {
                        "name": "大村鲸",
                    }, {
                        "name": "长须鲸",
                    }, {
                        "name": "大翅鲸",
                    }, {
                        "name": "白鱀豚",
                    }, {
                        "name": "恒河豚",
                    }, {
                        "name": "中华白海豚",
                    }, {
                        "name": "长江江豚",
                    }, {
                        "name": "抹香鲸",
                    }]
                }
            ]
        },
        {
            "name": "鸟纲",
            "children": [{
                "name": "鸡形目",
                "children": [{
                    "name": "四川山鹧鸪",
                }, {
                    "name": "海南山鹧鸪",
                }, {
                    "name": "斑尾榛鸡",
                }, {
                    "name": "黑嘴松鸡",
                }, {
                    "name": "黑琴鸡",
                }, {
                    "name": "红喉雉鹑",
                }, {
                    "name": "黄喉雉鹑",
                }, {
                    "name": "黑头角雉",
                }, {
                    "name": "红胸角雉",
                }, {
                    "name": "灰腹角雉",
                }, {
                    "name": "黄腹角雉",
                }, {
                    "name": "棕尾虹雉",
                }, {
                    "name": "白尾梢虹雉",
                }, {
                    "name": "绿尾虹雉",
                }, {
                    "name": "蓝腹鹇（蓝鹇）",
                }, {
                    "name": "褐马鸡",
                }, {
                    "name": "白颈长尾雉",
                }, {
                    "name": "黑颈长尾雉",
                }, {
                    "name": "黑长尾雉",
                }, {
                    "name": "白冠长尾雉",
                }, {
                    "name": "灰孔雀雉",
                }, {
                    "name": "海南孔雀雉",
                }, {
                    "name": "绿孔雀",
                }]
            }, {
                "name": "雁形目",
                "children": [{
                    "name": "青头潜鸭",
                }, {
                    "name": "中华秋沙鸭",
                }, {
                    "name": "白头硬尾鸭",
                }]
            }, {
                "name": "鸽形目",
                "children": [{
                    "name": "小鹃鸠",
                }]
            }, {
                "name": "鸨形目",
                "children": [{
                    "name": "大鸨",
                }, {
                    "name": "波斑鸨",
                }, {
                    "name": "小鸨",
                }]
            }, {
                "name": "鹤形目",
                "children": [{
                    "name": "白鹤",
                }, {
                    "name": "白枕鹤",
                }, {
                    "name": "赤颈鹤",
                }, {
                    "name": "丹顶鹤",
                }, {
                    "name": "白头鹤",
                }, {
                    "name": "黑颈鹤",
                }]
            }, {
                "name": "鸻形目",
                "children": [{
                    "name": "小青脚鹬",
                }, {
                    "name": "勺嘴鹬",
                }, {
                    "name": "黑嘴鸥",
                }, {
                    "name": "遗鸥",
                }, {
                    "name": "中华凤头燕鸥",
                }, {
                    "name": "黄嘴河燕鸥",
                }]
            }, {
                "name": "鹱形目",
                "children": [{
                    "name": "黑脚信天翁",
                }, {
                    "name": "短尾信天翁",
                }]
            }, {
                "name": "鹳形目",
                "children": [{
                    "name": "彩鹳",
                }, {
                    "name": "黑鹳",
                }, {
                    "name": "白鹳",
                }, {
                    "name": "东方白鹳",
                }]
            }, {
                "name": "鲣鸟目",
                "children": [{
                    "name": "白腹军舰鸟",
                }]
            }, {
                "name": "鹈形目",
                "children": [{
                    "name": "黑头白鹮",
                }, {
                    "name": "白肩黑鹮",
                }, {
                    "name": "朱鹮",
                }, {
                    "name": "彩鹮",
                }, {
                    "name": "黑脸琵鹭",
                }, {
                    "name": "海南鳽",
                }, {
                    "name": "白腹鹭",
                }, {
                    "name": "黄嘴白鹭",
                }, {
                    "name": "白鹈鹕",
                }, {
                    "name": "斑嘴鹈鹕",
                }, {
                    "name": "卷羽鹈鹕",
                }]
            }, {
                "name": "鹰形目",
                "children": [{
                    "name": "胡兀鹫",
                }, {
                    "name": "白背兀鹫",
                }, {
                    "name": "黑兀鹫",
                }, {
                    "name": "秃鹫",
                }, {
                    "name": "乌雕",
                }, {
                    "name": "草原雕",
                }, {
                    "name": "白肩雕",
                }, {
                    "name": "金雕",
                }, {
                    "name": "白腹海雕",
                }, {
                    "name": "玉带海雕",
                }, {
                    "name": "白尾海雕",
                }, {
                    "name": "虎头海雕",
                }]
            }, {
                "name": "鸮形目",
                "children": [{
                    "name": "毛腿雕鸮",
                }, {
                    "name": "四川林鸮",
                }]
            }, {
                "name": "犀鸟目",
                "children": [{
                    "name": "白喉犀鸟",
                }, {
                    "name": "冠斑犀鸟",
                }, {
                    "name": "双角犀鸟",
                }, {
                    "name": "棕颈犀鸟",
                }, {
                    "name": "花冠皱盔犀鸟",
                }]
            }, {
                "name": "隼形目",
                "children": [{
                    "name": "猎隼",
                }, {
                    "name": "矛隼",
                }]
            }, {
                "name": "雀形目",
                "children": [{
                    "name": "黑头噪鸦",
                }, {
                    "name": "灰冠鸦雀",
                }, {
                    "name": "金额雀鹛",
                }, {
                    "name": "黑额山噪鹛",
                }, {
                    "name": "白点噪鹛",
                }, {
                    "name": "蓝冠噪鹛（靛冠噪鹛)",
                }, {
                    "name": "黑冠薮鹛",
                }, {
                    "name": "灰胸薮鹛",
                }, {
                    "name": "棕头歌鸲",
                }, {
                    "name": "栗斑腹鹀",
                }, {
                    "name": "黄胸鹀",
                }]
            }]
        },
        {
            "name": "爬行纲",
            "children": [{
                "name": "龟鳖目",
                "children": [{
                    "name": "缅甸陆龟",
                }, {
                    "name": "凹甲陆龟",
                }, {
                    "name": "四爪陆龟",
                }, {
                    "name": "红海龟",
                }, {
                    "name": "绿海龟",
                }, {
                    "name": "玳瑁",
                }, {
                    "name": "太平洋丽龟",
                }, {
                    "name": "棱皮龟",
                }, {
                    "name": "鼋",
                }, {
                    "name": "斑鳖",
                }]
            }, {
                "name": "有鳞目",
                "children": [{
                    "name": "大耳沙蜥",
                }, {
                    "name": "鳄蜥",
                }, {
                    "name": "孟加拉巨蜥",
                }, {
                    "name": "圆鼻巨蜥",
                }, {
                    "name": "西藏温泉蛇",
                }, {
                    "name": "香格里拉温泉蛇",
                }, {
                    "name": "四川温泉蛇",
                }, {
                    "name": "莽山烙铁头蛇",
                }]
            }, {
                "name": "鳄目",
                "children": [{
                    "name": "扬子鳄",
                }]
            }]
        },
        {
            "name": "两栖纲",
            "children": [{
                "name": "有尾目",
                "children": [{
                    "name": "安吉小鲵 ",
                }, {
                    "name": "中国小鲵",
                }, {
                    "name": "挂榜山小鲵",
                }, {
                    "name": "猫儿山小鲵",
                }, {
                    "name": "普雄原鲵",
                }, {
                    "name": "辽宁爪鲵",
                }, {
                    "name": "镇海棘螈",
                }]
            }]
        },
        {
            "name": "硬骨鱼纲",
            "children": [{
                "name": "鲟形目",
                "children": [{
                    "name": "中华鲟",
                }, {
                    "name": "长江鲟",
                }, {
                    "name": "鳇",
                }, {
                    "name": "白鲟",
                }]
            }, {
                "name": "鲱形目",
                "children": [{
                    "name": "鲥",
                }]
            }, {
                "name": "鲤形目",
                "children": [{
                    "name": "北方铜鱼",
                }, {
                    "name": "扁吻鱼",
                }]
            }, {
                "name": "鲇形目",
                "children": [{
                    "name": "长丝",
                }]
            }, {
                "name": "鲑形目",
                "children": [{
                    "name": "川陕哲罗鲑",
                }]
            }, {
                "name": "鲈形目",
                "children": [{
                    "name": "黄唇鱼",
                }]
            }]
        },
        {
            "name": "肠鳃纲",
            "children": [{
                "name": "柱头虫目",
                "children": [{
                    "name": "多鳃孔舌形虫",
                }, {
                    "name": "黄岛长吻虫",
                }]
            }]
        },
        {
            "name": "昆虫纲",
            "children": [{
                "name": "蛩蠊目",
                "children": [{
                    "name": "中华蛩蠊",
                }, {
                    "name": "陈氏西蛩蠊",
                }]
            }, {
                "name": "鳞翅目",
                "children": [{
                    "name": "金斑喙凤蝶",
                }]
            }]
        },
        {
            "name": "双壳纲",
            "children": [{
                "name": "帘蛤目",
                "children": [{
                    "name": "大砗磲",
                }]
            }]
        },
        {
            "name": "头足纲",
            "children": [{
                "name": "鹦鹉螺目",
                "children": [{
                    "name": "鹦鹉螺",
                }]
            }]
        },
        {
            "name": "珊瑚纲",
            "children": [{
                "name": "软珊瑚目",
                "children": [{
                    "name": "红珊瑚科所有种",
                }]
            }]
        }
    ]
};
// 基于准备好的dom，初始化echarts实例
var myChart = echarts.init(document.getElementById('main'));
var option;
myChart.setOption(option = {
    tooltip: {
        trigger: 'item',
        triggerOn: 'click',
        enterable: true, //鼠标是否可进入提示框浮层中
        formatter: formatterHover, //修改鼠标悬停显示的内容
    },
    series: [{
        type: 'tree',
        data: [data],
        top: '1%',
        left: '7%',
        bottom: '1%',
        right: '20%',
        symbolSize: 7,
        label: {
            position: 'left',
            verticalAlign: 'middle',
            align: 'right',
            fontSize: 14
        },
        leaves: {
            label: {
                position: 'right',
                verticalAlign: 'middle',
                align: 'left'
            }
        },
        emphasis: {
            focus: 'descendant'
        },
        expandAndCollapse: true,
        animationDuration: 550,
        animationDurationUpdate: 750
    }]
});
myChart.setOption(option);

function formatterHover(params) {
    // console.log(params);
    var deviceType = params.data.name;
    var imgPath = params.data.symbol;
    //图片地址截取，因为echarts修改图片的时候有一个------image://---前缀，前缀后面的才是图片真正的地址
    var imgPathSrc = imgPath.split("image://")[1];
    // console.log('str',imgPathSrc);
    if (deviceType === '川金丝猴') {
        return "<img src='" + imgPathSrc + " ' width='30px' height='30px'>";
        // return firstParams.name + '  ' + firstParams.seriesName + '<br>' + '装机：' + firstParams.data + ' 亿千瓦<br>增长率：' + sndParams.data +' %';
    }
}